   firm_ids  market_ids   quality  satellite  wired
0       1.0         1.0  0.649014        1.0    0.0
1       2.0         1.0  1.181166        1.0    0.0
2       3.0         1.0  0.758453        0.0    1.0
3       4.0         1.0  1.109613        0.0    1.0
4       1.0         2.0  0.845551        1.0    0.0
5       2.0         2.0  0.572665        1.0    0.0
6       3.0         2.0  0.558681        0.0    1.0
7       4.0         2.0  0.178380        0.0    1.0
[[0. 0. 3. 0.]
 [0. 0. 3. 2.]
 [0. 0. 3. 2.]
 [0. 0. 3. 2.]
 [0. 0. 3. 3.]
 [0. 0. 3. 3.]
 [0. 0. 3. 3.]
 [0. 0. 3. 3.]
 [0. 0. 3. 3.]
 [0. 0. 3. 2.]]
Problem Results Summary:
==================================================================================================================
GMM     Objective      Projected    Reduced Hessian  Reduced Hessian  Clipped  Weighting Matrix  Covariance Matrix
Step      Value      Gradient Norm  Min Eigenvalue   Max Eigenvalue   Shares   Condition Number  Condition Number 
----  -------------  -------------  ---------------  ---------------  -------  ----------------  -----------------
 2    +4.912195E-17  +4.002975E-09   -6.400548E-05    +1.651757E-01      0      +3.720034E+02      +3.431690E+17  
==================================================================================================================

Cumulative Statistics:
===========================================================================
Computation  Optimizer  Optimization   Objective   Fixed Point  Contraction
   Time      Converged   Iterations   Evaluations  Iterations   Evaluations
-----------  ---------  ------------  -----------  -----------  -----------
 00:00:32       Yes          5            11          44083       135392   
===========================================================================

Nonlinear Coefficient Estimates (Robust SEs in Parentheses):
===========================================
 Sigma:       satellite          wired     
---------  ---------------  ---------------
satellite   +6.013185E+00                  
           (+4.359198E-01)                 
                                           
  wired     +0.000000E+00    +2.143010E+00 
                            (+3.554948E+00)
===========================================

Beta Estimates (Robust SEs in Parentheses):
==================================================================
    quality          prices          satellite          wired     
---------------  ---------------  ---------------  ---------------
 +1.571045E+00    -2.915884E+00    +5.009503E+00    +6.117167E+00 
(+3.498117E-01)  (+5.644241E-01)  (+2.230529E+00)  (+1.135205E+00)
==================================================================
Sigma squared: 
[[36.15839721  0.        ]
 [ 0.          4.59249016]]
Standard errors: 
[[ 5.24253255  0.        ]
 [ 0.         15.23657388]]
Problem Results Summary:
==================================================================================================================
GMM     Objective      Projected    Reduced Hessian  Reduced Hessian  Clipped  Weighting Matrix  Covariance Matrix
Step      Value      Gradient Norm  Min Eigenvalue   Max Eigenvalue   Shares   Condition Number  Condition Number 
----  -------------  -------------  ---------------  ---------------  -------  ----------------  -----------------
 1    +5.856685E+02  +2.733661E+02   +2.400827E+01    +1.103194E+02      0      +2.913200E+04      +1.088271E+04  
==================================================================================================================

Cumulative Statistics:
===========================================================================
Computation  Optimizer  Optimization   Objective   Fixed Point  Contraction
   Time      Converged   Iterations   Evaluations  Iterations   Evaluations
-----------  ---------  ------------  -----------  -----------  -----------
 00:00:19       Yes          1             4          27074        82304   
===========================================================================

Nonlinear Coefficient Estimates (Robust SEs in Parentheses):
===========================================
 Sigma:       satellite          wired     
---------  ---------------  ---------------
satellite   +6.013185E+00                  
           (+5.790497E-01)                 
                                           
  wired     +0.000000E+00    +2.143010E+00 
                            (+3.522068E-01)
===========================================

Beta Estimates (Robust SEs in Parentheses):
==================================================================
    quality          prices          satellite          wired     
---------------  ---------------  ---------------  ---------------
 +1.574064E+00    -2.949417E+00    +5.098918E+00    +6.206288E+00 
(+1.107785E-01)  (+3.130863E-01)  (+7.960557E-01)  (+8.060892E-01)
==================================================================
Sigma squared: 
[[36.15839721  0.        ]
 [ 0.          4.59249016]]
Standard errors: 
[[6.96386631 0.        ]
 [0.         1.50956525]]
Problem Results Summary:
===========================================================================================================================
GMM     Objective      Projected    Reduced Hessian  Reduced Hessian  Clipped  Clipped  Weighting Matrix  Covariance Matrix
Step      Value      Gradient Norm  Min Eigenvalue   Max Eigenvalue   Shares    Costs   Condition Number  Condition Number 
----  -------------  -------------  ---------------  ---------------  -------  -------  ----------------  -----------------
 2    +8.337494E-05  +5.195005E-09   +1.774896E-05    +1.540330E+04      0        0      +3.157263E+20      +1.487686E+16  
===========================================================================================================================

Cumulative Statistics:
===========================================================================
Computation  Optimizer  Optimization   Objective   Fixed Point  Contraction
   Time      Converged   Iterations   Evaluations  Iterations   Evaluations
-----------  ---------  ------------  -----------  -----------  -----------
 00:21:41       Yes         305           373        1771972      5425113  
===========================================================================

Nonlinear Coefficient Estimates (Robust SEs in Parentheses):
===========================================
 Sigma:       satellite          wired     
---------  ---------------  ---------------
satellite   +4.432152E+00                  
           (+2.784831E+00)                 
                                           
  wired     +0.000000E+00    +2.780687E+00 
                            (+3.039867E+00)
===========================================

Beta Estimates (Robust SEs in Parentheses):
==================================================================
    quality          prices          satellite          wired     
---------------  ---------------  ---------------  ---------------
 +1.459810E+00    -2.689765E+00    +5.066229E+00    +5.462355E+00 
(+6.474962E-01)  (+1.089675E+00)  (+2.359271E+00)  (+2.259253E+00)
==================================================================

Gamma Estimates (Robust SEs in Parentheses):
================================
       1            obs_cost    
---------------  ---------------
 +4.768211E-01    +2.709948E-01 
(+7.861849E-02)  (+1.788054E-02)
================================
Sigma squared: 
[[19.6439718   0.        ]
 [ 0.          7.73222006]]
Standard errors: 
[[24.68558946  0.        ]
 [ 0.         16.90583654]]
elasticity_table:
      true_elasticity  estimated_elasticity
0           -7.774687             -9.890257
1           -2.833953             -1.851684
2           -3.317352             -3.932785
3           -3.671137             -4.166176
4           -2.986742             -3.316052
...               ...                   ...
2395        -3.655356             -3.385790
2396        -3.106968             -2.328140
2397        -5.879867             -7.387863
2398        -3.081718             -2.840982
2399        -5.159278             -6.680513

[2400 rows x 2 columns]
true diversion ratio:
            D1        D2        D3        D4
0    -0.304198  0.357673  0.152170  0.185959
1     0.077620 -0.436827  0.218516  0.267036
2     0.033359  0.220735 -0.345314  0.400592
3     0.035977  0.238063  0.353538 -0.372421
4    -0.354366  0.383333  0.109221  0.153080
...        ...       ...       ...       ...
2395  0.209838  0.382594  0.171176 -0.236393
2396 -0.439006  0.118952  0.371511  0.070531
2397  0.387386 -0.305252  0.258321  0.049042
2398  0.324912  0.069371 -0.463893  0.141824
2399  0.202410  0.043216  0.465382 -0.288992

[2400 rows x 4 columns]
estimated diversion ratio:
            D1        D2        D3        D4
0     0.115941  0.756670  0.057330  0.070059
1     0.319702  0.324145  0.160282  0.195871
2     0.013486  0.089235  0.278565  0.618714
3     0.015194  0.100538  0.570421  0.313847
4     0.224075  0.657139  0.049462  0.069324
...        ...       ...       ...       ...
2395  0.114423  0.208626  0.391313  0.285637
2396  0.330104  0.383186  0.240964  0.045747
2397  0.744222  0.136886  0.099922  0.018970
2398  0.171294  0.036573  0.498124  0.294009
2399  0.075974  0.016221  0.686873  0.220932

[2400 rows x 4 columns]
   merge 1 and 2  merge 1 and 3
0       3.586504       2.804654
1       3.560831       2.737141
2       2.735020       2.782694
3       2.741781       2.745111
