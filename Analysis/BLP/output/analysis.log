   firm_ids  market_ids   quality  satellite  wired
0       1.0         1.0  0.649014        1.0    0.0
1       2.0         1.0  1.181166        1.0    0.0
2       3.0         1.0  0.758453        0.0    1.0
3       4.0         1.0  1.109613        0.0    1.0
4       1.0         2.0  0.845551        1.0    0.0
5       2.0         2.0  0.572665        1.0    0.0
6       3.0         2.0  0.558681        0.0    1.0
7       4.0         2.0  0.178380        0.0    1.0
[[0. 0. 3. 0.]
 [0. 0. 3. 2.]
 [0. 0. 3. 2.]
 [0. 0. 3. 2.]
 [0. 0. 3. 3.]
 [0. 0. 3. 3.]
 [0. 0. 3. 3.]
 [0. 0. 3. 3.]
 [0. 0. 3. 3.]
 [0. 0. 3. 2.]]
Problem Results Summary:
==================================================================================================================
GMM     Objective      Projected    Reduced Hessian  Reduced Hessian  Clipped  Weighting Matrix  Covariance Matrix
Step      Value      Gradient Norm  Min Eigenvalue   Max Eigenvalue   Shares   Condition Number  Condition Number 
----  -------------  -------------  ---------------  ---------------  -------  ----------------  -----------------
 2    +9.087491E-19  +2.725589E-10   +2.600521E-05    +4.041529E-02      0      +3.561421E+02      +2.929887E+16  
==================================================================================================================

Cumulative Statistics:
===========================================================================
Computation  Optimizer  Optimization   Objective   Fixed Point  Contraction
   Time      Converged   Iterations   Evaluations  Iterations   Evaluations
-----------  ---------  ------------  -----------  -----------  -----------
 00:00:45       Yes          7            11          51113       156738   
===========================================================================

Nonlinear Coefficient Estimates (Robust SEs in Parentheses):
===========================================
 Sigma:       satellite          wired     
---------  ---------------  ---------------
satellite   +1.353875E+01                  
           (+1.368603E+00)                 
                                           
  wired     +0.000000E+00    +1.140146E+00 
                            (+7.128477E+00)
===========================================

Beta Estimates (Robust SEs in Parentheses):
==================================================================
    quality          prices          satellite          wired     
---------------  ---------------  ---------------  ---------------
 +2.385205E+00    -4.578631E+00    +6.170777E+00    +1.008239E+01 
(+4.898848E-01)  (+5.514283E-01)  (+3.123973E+00)  (+1.492578E+00)
==================================================================
Sigma squared: 
[[183.29768957   0.        ]
 [  0.           1.29993273]]
Standard errors: 
[[37.05834481  0.        ]
 [ 0.         16.25500708]]
Problem Results Summary:
==================================================================================================================
GMM     Objective      Projected    Reduced Hessian  Reduced Hessian  Clipped  Weighting Matrix  Covariance Matrix
Step      Value      Gradient Norm  Min Eigenvalue   Max Eigenvalue   Shares   Condition Number  Condition Number 
----  -------------  -------------  ---------------  ---------------  -------  ----------------  -----------------
 1    +3.867880E+03  +6.761991E+02   -9.096914E+01    +6.259143E+01      0      +2.787291E+05      +2.655183E+04  
==================================================================================================================

Cumulative Statistics:
===========================================================================
Computation  Optimizer  Optimization   Objective   Fixed Point  Contraction
   Time      Converged   Iterations   Evaluations  Iterations   Evaluations
-----------  ---------  ------------  -----------  -----------  -----------
 00:00:34       Yes          1             4          38529       116622   
===========================================================================

Nonlinear Coefficient Estimates (Robust SEs in Parentheses):
===========================================
 Sigma:       satellite          wired     
---------  ---------------  ---------------
satellite   +1.353875E+01                  
           (+1.202615E+00)                 
                                           
  wired     +0.000000E+00    +1.140146E+00 
                            (+1.252679E+00)
===========================================

Beta Estimates (Robust SEs in Parentheses):
==================================================================
    quality          prices          satellite          wired     
---------------  ---------------  ---------------  ---------------
 +2.408231E+00    -4.833372E+00    +6.850150E+00    +1.075978E+01 
(+2.685908E-01)  (+7.108969E-01)  (+1.808226E+00)  (+1.834700E+00)
==================================================================
Sigma squared: 
[[183.29768957   0.        ]
 [  0.           1.29993273]]
Standard errors: 
[[32.56379346  0.        ]
 [ 0.          2.85647343]]
Problem Results Summary:
===========================================================================================================================
GMM     Objective      Projected    Reduced Hessian  Reduced Hessian  Clipped  Clipped  Weighting Matrix  Covariance Matrix
Step      Value      Gradient Norm  Min Eigenvalue   Max Eigenvalue   Shares    Costs   Condition Number  Condition Number 
----  -------------  -------------  ---------------  ---------------  -------  -------  ----------------  -----------------
 2    +1.153842E-03  +3.204489E-01   -2.726232E-02    +6.052512E+03      0        2      +8.128665E+04      +2.121186E+09  
===========================================================================================================================

Cumulative Statistics:
===========================================================================
Computation  Optimizer  Optimization   Objective   Fixed Point  Contraction
   Time      Converged   Iterations   Evaluations  Iterations   Evaluations
-----------  ---------  ------------  -----------  -----------  -----------
 00:28:20       Yes         107           306        2357258      7183154  
===========================================================================

Nonlinear Coefficient Estimates (Robust SEs in Parentheses):
===========================================
 Sigma:       satellite          wired     
---------  ---------------  ---------------
satellite   +2.112446E+01                  
           (+3.642566E+01)                 
                                           
  wired     +0.000000E+00    +7.914825E-02 
                            (+9.665971E+01)
===========================================

Beta Estimates (Robust SEs in Parentheses):
==================================================================
    quality          prices          satellite          wired     
---------------  ---------------  ---------------  ---------------
 +3.264089E+00    -6.482578E+00    +7.967849E+00    +1.454791E+01 
(+5.116537E+00)  (+1.024672E+01)  (+1.384630E+01)  (+2.436437E+01)
==================================================================

Gamma Estimates (Robust SEs in Parentheses):
================================
       1            obs_cost    
---------------  ---------------
 +7.102282E-01    +2.068052E-01 
(+1.474100E-01)  (+3.147875E-02)
================================
Sigma squared: 
[[4.46242989e+02 0.00000000e+00]
 [0.00000000e+00 6.26444469e-03]]
Standard errors: 
[[1538.94526972    0.        ]
 [   0.           15.30089244]]
elasticity_table:
      true_elasticity  estimated_elasticity
0           -7.771133            -23.797153
1           -2.828539             -4.363272
2           -3.313507            -10.722278
3           -3.665961            -11.856556
4           -2.984649             -7.654633
...               ...                   ...
2395        -3.643783            -10.405397
2396        -3.101071             -4.233320
2397        -5.876377            -17.407805
2398        -3.075281             -9.566647
2399        -5.156064            -16.632554

[2400 rows x 2 columns]
true diversion ratio:
            D1        D2        D3        D4
0    -0.300520  0.359917  0.152864  0.186699
1     0.078606 -0.432597  0.220046  0.268751
2     0.033129  0.218355 -0.345458  0.403058
3     0.035739  0.235562  0.356018 -0.372681
4    -0.351565  0.384757  0.109869  0.153809
...        ...       ...       ...       ...
2395  0.208009  0.379154  0.174162 -0.238675
2396 -0.435169  0.120317  0.373315  0.071198
2397  0.389611 -0.301953  0.259034  0.049403
2398  0.321724  0.068938 -0.465830  0.143508
2399  0.199959  0.042847  0.467669 -0.289525

[2400 rows x 4 columns]
estimated diversion ratio:
            D1        D2        D3        D4
0     0.094089  0.766321  0.062840  0.076750
1     0.332239  0.268869  0.179572  0.219319
2     0.012888  0.084946  0.496419  0.405748
3     0.013911  0.091688  0.358582  0.535819
4     0.143670  0.726997  0.053891  0.075443
...        ...       ...       ...       ...
2395  0.095382  0.173860  0.240551  0.490207
2396  0.181792  0.580174  0.199907  0.038126
2397  0.865759  0.058129  0.063921  0.012191
2398  0.075602  0.016200  0.750673  0.157525
2399  0.045313  0.009710  0.495049  0.449928

[2400 rows x 4 columns]
   merge 1 and 2  merge 1 and 3
0       4.509990       2.769214
1       4.480202       2.729334
2       2.731764       2.746079
3       2.738566       2.736089
