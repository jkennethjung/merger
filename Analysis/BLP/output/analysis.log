   firm_ids  market_ids   quality  satellite  wired
0       1.0         1.0  0.649014        1.0    0.0
1       2.0         1.0  1.181166        1.0    0.0
2       3.0         1.0  0.758453        0.0    1.0
3       4.0         1.0  1.109613        0.0    1.0
4       1.0         2.0  0.845551        1.0    0.0
5       2.0         2.0  0.572665        1.0    0.0
6       3.0         2.0  0.558681        0.0    1.0
7       4.0         2.0  0.178380        0.0    1.0
[[ 0.          0.          0.50731475 11.68804445]
 [ 0.          0.          0.46699194  3.39068706]
 [ 0.          0.          0.31397624  5.17627065]
 [ 0.          0.          0.34058469  3.70458181]
 [ 0.          0.          0.6018788   0.94781399]
 [ 0.          0.          0.23012291  0.31987471]
 [ 0.          0.          0.22711872  0.83506063]
 [ 0.          0.          0.74520604  0.34287253]
 [ 0.          0.          0.94499501  0.84312035]
 [ 0.          0.          0.26797803  1.10467673]]
Problem Results Summary:
==================================================================================================================
GMM     Objective      Projected    Reduced Hessian  Reduced Hessian  Clipped  Weighting Matrix  Covariance Matrix
Step      Value      Gradient Norm  Min Eigenvalue   Max Eigenvalue   Shares   Condition Number  Condition Number 
----  -------------  -------------  ---------------  ---------------  -------  ----------------  -----------------
 2    +8.010120E-15  +2.817377E-08   +1.685248E-05    +8.834239E-02      0      +1.777831E+02      +2.499311E+16  
==================================================================================================================

Cumulative Statistics:
===========================================================================
Computation  Optimizer  Optimization   Objective   Fixed Point  Contraction
   Time      Converged   Iterations   Evaluations  Iterations   Evaluations
-----------  ---------  ------------  -----------  -----------  -----------
 00:00:44       Yes          6            14          58819       181546   
===========================================================================

Nonlinear Coefficient Estimates (Robust SEs in Parentheses):
===========================================
 Sigma:       satellite          wired     
---------  ---------------  ---------------
satellite   +4.959756E+00                  
           (+3.291027E+00)                 
                                           
  wired     +0.000000E+00    +5.311310E+00 
                            (+3.462572E+00)
===========================================

Beta Estimates (Robust SEs in Parentheses):
==================================================================
    quality          prices          satellite          wired     
---------------  ---------------  ---------------  ---------------
 +1.802259E+00    -2.998638E+00    +5.943803E+00    +5.624282E+00 
(+7.902583E-01)  (+1.078232E+00)  (+2.252441E+00)  (+2.062496E+00)
==================================================================
Sigma squared: 
[[24.59917547  0.        ]
 [ 0.         28.21000985]]
Standard errors: 
[[32.6453809   0.        ]
 [ 0.         36.78158498]]
Problem Results Summary:
==================================================================================================================
GMM     Objective      Projected    Reduced Hessian  Reduced Hessian  Clipped  Weighting Matrix  Covariance Matrix
Step      Value      Gradient Norm  Min Eigenvalue   Max Eigenvalue   Shares   Condition Number  Condition Number 
----  -------------  -------------  ---------------  ---------------  -------  ----------------  -----------------
 1    +5.298766E+02  +1.717582E+02   +4.156004E+01    +8.791798E+01      0      +3.440532E+04      +5.792872E+03  
==================================================================================================================

Cumulative Statistics:
===========================================================================
Computation  Optimizer  Optimization   Objective   Fixed Point  Contraction
   Time      Converged   Iterations   Evaluations  Iterations   Evaluations
-----------  ---------  ------------  -----------  -----------  -----------
 00:00:23       Yes          1             4          32915        99962   
===========================================================================

Nonlinear Coefficient Estimates (Robust SEs in Parentheses):
===========================================
 Sigma:       satellite          wired     
---------  ---------------  ---------------
satellite   +4.959756E+00                  
           (+4.263588E-01)                 
                                           
  wired     +0.000000E+00    +5.311310E+00 
                            (+4.813438E-01)
===========================================

Beta Estimates (Robust SEs in Parentheses):
==================================================================
    quality          prices          satellite          wired     
---------------  ---------------  ---------------  ---------------
 +1.797261E+00    -2.943119E+00    +5.795762E+00    +5.476730E+00 
(+1.134461E-01)  (+2.824420E-01)  (+7.260390E-01)  (+7.430908E-01)
==================================================================
Sigma squared: 
[[24.59917547  0.        ]
 [ 0.         28.21000985]]
Standard errors: 
[[4.22927095 0.        ]
 [0.         5.11313175]]
Problem Results Summary:
===========================================================================================================================
GMM     Objective      Projected    Reduced Hessian  Reduced Hessian  Clipped  Clipped  Weighting Matrix  Covariance Matrix
Step      Value      Gradient Norm  Min Eigenvalue   Max Eigenvalue   Shares    Costs   Condition Number  Condition Number 
----  -------------  -------------  ---------------  ---------------  -------  -------  ----------------  -----------------
 2    +6.455042E-01  +4.733706E-08   +1.878688E-01    +1.088035E+04      0        0      +1.368034E+04      +2.678131E+17  
===========================================================================================================================

Cumulative Statistics:
===========================================================================
Computation  Optimizer  Optimization   Objective   Fixed Point  Contraction
   Time      Converged   Iterations   Evaluations  Iterations   Evaluations
-----------  ---------  ------------  -----------  -----------  -----------
 00:17:08       No          121           252        1307464      4005093  
===========================================================================

Nonlinear Coefficient Estimates (Robust SEs in Parentheses):
===========================================
 Sigma:       satellite          wired     
---------  ---------------  ---------------
satellite   +1.670715E+00                  
           (+3.223914E-01)                 
                                           
  wired     +0.000000E+00    +1.582640E+00 
                            (+5.748392E-01)
===========================================

Beta Estimates (Robust SEs in Parentheses):
==================================================================
    quality          prices          satellite          wired     
---------------  ---------------  ---------------  ---------------
 +1.053839E+00    -2.007104E+00    +3.967900E+00    +3.907389E+00 
(+8.823335E-02)  (+1.761598E-01)  (+4.387225E-01)  (+3.665261E-01)
==================================================================

Gamma Estimates (Robust SEs in Parentheses):
================================
       1            obs_cost    
---------------  ---------------
 +4.482155E-01    +2.684792E-01 
(+3.242699E-02)  (+1.162871E-02)
================================
Sigma squared: 
[[2.79129025 0.        ]
 [0.         2.50475052]]
Standard errors: 
[[1.07724854 0.        ]
 [0.         1.81952749]]
elasticity_table:
      true_elasticity  estimated_elasticity
0           -7.774687             -7.671477
1           -2.833953             -2.390885
2           -3.317352             -3.168028
3           -3.671137             -3.449198
4           -2.986742             -2.794558
...               ...                   ...
2395        -3.655356             -3.214239
2396        -3.106968             -2.657575
2397        -5.879867             -5.771394
2398        -3.081718             -2.691641
2399        -5.159278             -5.098201

[2400 rows x 2 columns]
true diversion ratio:
            D1        D2        D3        D4
0     0.304198  0.357673  0.152170  0.185959
1     0.077620  0.436827  0.218516  0.267036
2     0.033359  0.220735  0.345314  0.400592
3     0.035977  0.238063  0.353538  0.372421
4     0.354366  0.383333  0.109221  0.153080
...        ...       ...       ...       ...
2395  0.209838  0.382594  0.171176  0.236393
2396  0.439006  0.118952  0.371511  0.070531
2397  0.387386  0.305252  0.258321  0.049042
2398  0.324912  0.069371  0.463893  0.141824
2399  0.202410  0.043216  0.465382  0.288992

[2400 rows x 4 columns]
estimated diversion ratio:
            D1        D2        D3        D4
0     0.266810  0.476618  0.115467  0.141105
1     0.120973  0.448111  0.193928  0.236988
2     0.026154  0.173060  0.317677  0.483110
3     0.028670  0.189713  0.433371  0.348246
4     0.313871  0.477356  0.086932  0.121841
...        ...       ...       ...       ...
2395  0.178031  0.324601  0.239989  0.257379
2396  0.437933  0.176551  0.324004  0.061512
2397  0.501047  0.265357  0.196324  0.037272
2398  0.277504  0.059249  0.472008  0.191239
2399  0.152803  0.032625  0.554668  0.259904

[2400 rows x 4 columns]
   merge 1 and 2  merge 1 and 3
0       3.122938       2.854145
1       3.096105       2.737589
2       2.737304       2.832571
3       2.744294       2.746802
