   firm_ids  market_ids   quality  satellite  wired
0       1.0         1.0  0.649014        1.0    0.0
1       2.0         1.0  1.181166        1.0    0.0
2       3.0         1.0  0.758453        0.0    1.0
3       4.0         1.0  1.109613        0.0    1.0
4       1.0         2.0  0.845551        1.0    0.0
5       2.0         2.0  0.572665        1.0    0.0
6       3.0         2.0  0.558681        0.0    1.0
7       4.0         2.0  0.178380        0.0    1.0
[[0. 0. 3. 0.]
 [0. 0. 3. 2.]
 [0. 0. 3. 2.]
 [0. 0. 3. 2.]
 [0. 0. 3. 3.]
 [0. 0. 3. 3.]
 [0. 0. 3. 3.]
 [0. 0. 3. 3.]
 [0. 0. 3. 3.]
 [0. 0. 3. 2.]]
Problem Results Summary:
==================================================================================================================
GMM     Objective      Projected    Reduced Hessian  Reduced Hessian  Clipped  Weighting Matrix  Covariance Matrix
Step      Value      Gradient Norm  Min Eigenvalue   Max Eigenvalue   Shares   Condition Number  Condition Number 
----  -------------  -------------  ---------------  ---------------  -------  ----------------  -----------------
 2    +7.272033E-17  +4.136780E-09   +2.946340E-05    +1.166733E-01      0      +3.561228E+02      +3.537006E+19  
==================================================================================================================

Cumulative Statistics:
===========================================================================
Computation  Optimizer  Optimization   Objective   Fixed Point  Contraction
   Time      Converged   Iterations   Evaluations  Iterations   Evaluations
-----------  ---------  ------------  -----------  -----------  -----------
 00:00:40       Yes          7            12          51932       159381   
===========================================================================

Nonlinear Coefficient Estimates (Robust SEs in Parentheses):
===========================================
 Sigma:       satellite          wired     
---------  ---------------  ---------------
satellite   +8.665779E+00                  
           (+9.919857E-01)                 
                                           
  wired     +0.000000E+00    +1.449786E+00 
                            (+4.177207E+00)
===========================================

Beta Estimates (Robust SEs in Parentheses):
==================================================================
    quality          prices          satellite          wired     
---------------  ---------------  ---------------  ---------------
 +1.811824E+00    -3.391090E+00    +4.928248E+00    +7.249289E+00 
(+3.158376E-01)  (+4.447396E-01)  (+2.274068E+00)  (+1.092651E+00)
==================================================================
Sigma squared: 
[[75.09571709  0.        ]
 [ 0.          2.1018794 ]]
Standard errors: 
[[17.19265621  0.        ]
 [ 0.         12.11211319]]
Problem Results Summary:
==================================================================================================================
GMM     Objective      Projected    Reduced Hessian  Reduced Hessian  Clipped  Weighting Matrix  Covariance Matrix
Step      Value      Gradient Norm  Min Eigenvalue   Max Eigenvalue   Shares   Condition Number  Condition Number 
----  -------------  -------------  ---------------  ---------------  -------  ----------------  -----------------
 1    +1.443687E+03  +4.367490E+02   -1.231949E+01    +7.644811E+01      0      +5.748389E+04      +1.655089E+04  
==================================================================================================================

Cumulative Statistics:
===========================================================================
Computation  Optimizer  Optimization   Objective   Fixed Point  Contraction
   Time      Converged   Iterations   Evaluations  Iterations   Evaluations
-----------  ---------  ------------  -----------  -----------  -----------
 00:00:24       Yes          1             4          35663       107950   
===========================================================================

Nonlinear Coefficient Estimates (Robust SEs in Parentheses):
===========================================
 Sigma:       satellite          wired     
---------  ---------------  ---------------
satellite   +8.665779E+00                  
           (+6.953840E-01)                 
                                           
  wired     +0.000000E+00    +1.449786E+00 
                            (+5.962561E-01)
===========================================

Beta Estimates (Robust SEs in Parentheses):
==================================================================
    quality          prices          satellite          wired     
---------------  ---------------  ---------------  ---------------
 +1.832097E+00    -3.616425E+00    +5.528883E+00    +7.848356E+00 
(+1.536192E-01)  (+4.351157E-01)  (+1.111066E+00)  (+1.122918E+00)
==================================================================
Sigma squared: 
[[75.09571709  0.        ]
 [ 0.          2.1018794 ]]
Standard errors: 
[[12.0520868   0.        ]
 [ 0.          1.72888733]]
Problem Results Summary:
===========================================================================================================================
GMM     Objective      Projected    Reduced Hessian  Reduced Hessian  Clipped  Clipped  Weighting Matrix  Covariance Matrix
Step      Value      Gradient Norm  Min Eigenvalue   Max Eigenvalue   Shares    Costs   Condition Number  Condition Number 
----  -------------  -------------  ---------------  ---------------  -------  -------  ----------------  -----------------
 2    +6.326220E-01  +1.402419E+00   -1.004376E+10    +9.844139E+10      0        2      +1.263119E+04      +1.908814E+07  
===========================================================================================================================

Cumulative Statistics:
===========================================================================
Computation  Optimizer  Optimization   Objective   Fixed Point  Contraction
   Time      Converged   Iterations   Evaluations  Iterations   Evaluations
-----------  ---------  ------------  -----------  -----------  -----------
 00:22:53       No           67           333        1925381      5894400  
===========================================================================

Nonlinear Coefficient Estimates (Robust SEs in Parentheses):
===========================================
 Sigma:       satellite          wired     
---------  ---------------  ---------------
satellite   +1.047501E+01                  
           (+9.237360E+00)                 
                                           
  wired     +0.000000E+00    +1.421806E+00 
                            (+4.682406E+00)
===========================================

Beta Estimates (Robust SEs in Parentheses):
==================================================================
    quality          prices          satellite          wired     
---------------  ---------------  ---------------  ---------------
 +2.025727E+00    -3.826353E+00    +5.321652E+00    +8.270885E+00 
(+1.308467E+00)  (+2.325988E+00)  (+3.523855E+00)  (+5.410997E+00)
==================================================================

Gamma Estimates (Robust SEs in Parentheses):
================================
       1            obs_cost    
---------------  ---------------
 +5.707763E-01    +2.487348E-01 
(+1.349749E-01)  (+3.948065E-02)
================================
Sigma squared: 
[[109.72593515   0.        ]
 [  0.           2.02153356]]
Standard errors: 
[[193.52296858   0.        ]
 [  0.          13.31494904]]
elasticity_table:
      true_elasticity  estimated_elasticity
0           -7.776533            -14.005705
1           -2.836782             -2.401751
2           -3.317621             -5.933517
3           -3.671499             -6.420841
4           -2.989678             -4.466741
...               ...                   ...
2395        -3.640851             -5.386821
2396        -3.109349             -2.471720
2397        -5.881267            -10.276131
2398        -3.080567             -4.754756
2399        -5.158706             -9.643858

[2400 rows x 2 columns]
true diversion ratio:
            D1        D2        D3        D4
0    -0.307724  0.356501  0.151107  0.184667
1     0.077110 -0.441331  0.216714  0.264845
2     0.032419  0.214955 -0.352207  0.400420
3     0.034963  0.231824  0.353365 -0.379848
4    -0.359158  0.381341  0.108101  0.151400
...        ...       ...       ...       ...
2395  0.204126  0.372615  0.174927 -0.248332
2396 -0.443913  0.118405  0.367799  0.069883
2397  0.386489 -0.308923  0.255955  0.048632
2398  0.315636  0.067294 -0.474947  0.142123
2399  0.196550  0.041905  0.465790 -0.295755

[2400 rows x 4 columns]
estimated diversion ratio:
            D1        D2        D3        D4
0     0.085358  0.791608  0.055368  0.067665
1     0.364231  0.260415  0.168919  0.206435
2     0.011962  0.079315  0.395184  0.513539
3     0.013193  0.087479  0.463467  0.435861
4     0.154820  0.744197  0.042067  0.058917
...        ...       ...       ...       ...
2395  0.089506  0.163385  0.319351  0.427758
2396  0.150889  0.584881  0.222042  0.042189
2397  0.868569  0.047773  0.070301  0.013357
2398  0.098139  0.020923  0.659260  0.221678
2399  0.050457  0.010757  0.599840  0.338946

[2400 rows x 4 columns]
   merge 1 and 2  merge 1 and 3
0       4.222572       2.775744
1       4.193742       2.730272
2       2.729690       2.756598
3       2.736713       2.738086
